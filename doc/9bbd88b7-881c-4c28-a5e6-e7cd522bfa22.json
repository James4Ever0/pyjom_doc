{
    "summary": "This code defines functions for converting BV and AV IDs. It uses a table to perform the conversion, where 'dec' function is used for decoding BV to AV and 'enc' function is used for encoding AV to BV. The 'bv_av_conversion' function takes a string input as source and returns the corresponding converted ID based on whether it starts with 'BV' or 'AV'. If the input is invalid, it prompts the user to reenter.",
    "details": [
        {
            "comment": "This code defines functions for converting BV and AV IDs. It uses a table to perform the conversion, where 'dec' function is used for decoding BV to AV and 'enc' function is used for encoding AV to BV. The 'bv_av_conversion' function takes a string input as source and returns the corresponding converted ID based on whether it starts with 'BV' or 'AV'. If the input is invalid, it prompts the user to reenter.",
            "location": "\"/media/root/Toshiba XG3/works/pyjom_doc/src/tests/anime_highlight_cuts/theme_collector/bv2av.py\":2-39",
            "content": "table = 'fZodR9XQDSUm21yCkr6zBqiveYah8bt4xsWpHnJE7jL5VG3guMTKNPAwcF'\ntr = {}\nfor i in range(58):\n    tr[table[i]] = i\ns = [11, 10, 3, 8, 4, 6]\nxor = 177451812\nadd = 8728348608\ndef dec(x):\n    r = 0\n    for i in range(6):\n        r += tr[x[s[i]]] * 58 ** i\n    return (r - add) ^ xor\ndef enc(x):\n    x = (x ^ xor) + add\n    r = list('BV1  4 1 7  ')\n    for i in range(6):\n        r[s[i]] = table[x // 58 ** i % 58]\n    return ''.join(r)\ndef bv_av_conversion(source:str):\n    print(\"\u8bf7\u8f93\u5165BV\u6216AV\u53f7,\u9700\u8981\u5e26\u4e0aBV\u6216AV\u524d\u7f00:\") \n    av_bv =source+\"  \"\n    head = str(av_bv[0]) + str(av_bv[1])\n    av = [\"av\", \"AV\", \"Av\", \"aV\"]\n    bv = [\"bv\", \"BV\", \"Bv\", \"bV\"]\n    if head in av:\n        val = (enc(int(av_bv[2:-2])))\n    elif head in bv:\n        val = f\"av{dec('BV' + av_bv[2:-2])}\"\n    else:\n        print(\"\u4f60\u7684\u8f93\u5165\u6709\u8bef\u8bf7\u91cd\u65b0\u8f93\u5165\")\n        val = None\n    return val"
        }
    ]
}