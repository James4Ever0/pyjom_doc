{
    "summary": "This code resizes and composes two images, applying opacity to create an invisible blending effect. The first image is scaled proportionally to the second image using a ratio factor. Both images are then overlaid onto each other with transparency applied, resulting in a final image where the first image serves as a background for the second image.",
    "details": [
        {
            "comment": "This code resizes and composes two images, applying opacity to create an invisible blending effect. The first image is scaled proportionally to the second image using a ratio factor. Both images are then overlaid onto each other with transparency applied, resulting in a final image where the first image serves as a background for the second image.",
            "location": "\"/media/root/Toshiba XG3/works/pyjom_doc/src/tests/bilibili_video_recommendation_server/create_invisible_blend_transparent_ebegging.py\":0-30",
            "content": "background = \"setu2.jpg\"\nebegging = \"ebegging_template.png\"\nimport pixie\nbgImage = pixie.read_image(background)\nebImage = pixie.read_image(ebegging)\nfactor = 7\nratio_0 = (1200 * factor / 5) / min(bgImage.width, bgImage.height)\nb_w, b_h = int(ratio_0 * bgImage.width), int(ratio_0 * bgImage.height)\nbgImage = bgImage.resize(b_w, b_h)\nratio = min(bgImage.width, bgImage.height) / (\n    max(ebImage.width, ebImage.height) * factor\n)\ne_w, e_h = int(ratio * ebImage.width), int(ratio * ebImage.height)\n# print(e_w, e_h)\n# print(ratio)\n# print(bgImage.width, bgImage.height)\nebImage = ebImage.resize(e_w, e_h)\nebImage.apply_opacity(0.5)\nt_w, t_h = bgImage.width - e_w, bgImage.height - e_h\nbgImage.draw(ebImage, transform=pixie.translate(t_w, t_h))\nbgImage.write_file(\"ebegging_setu_transparent.png\")"
        }
    ]
}