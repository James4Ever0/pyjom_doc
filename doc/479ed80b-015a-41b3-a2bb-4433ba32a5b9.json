{
    "summary": "This code uses Botoy library to send images/videos on QQ, defines specific objectives, and sends messages with action.sendFriendPic method while also allowing accompanying text with action.sendFriendText method.",
    "details": [
        {
            "comment": "The code uses the Botoy library to send images or videos as messages on QQ. It requires the user to define specific objectives like 'send_video_ad' and 'send_image'. The code reads the image file, encodes it into base64, and sends it as a message using the action.sendFriendPic method. Additionally, it can also send accompanying text messages with the action.sendFriendText method.",
            "location": "\"/media/root/Toshiba XG3/works/pyjom_doc/src/tests/bilibili_video_recommendation_server/send_image_botoy.py\":0-34",
            "content": "# test to broadcast all these things.\n# this method might fail to behave correctly.\n# maybe we need to upload the image and get url? no thanks?\n# we use jpg instead? must use cv2.\n# \u6682\u65f6\u7528\u4e0d\u5230\u8f6c\u53d1\u6d88\u606f\u7684\u529f\u80fd\nfrom botoy import Action\nqq = 917521610\nport = 8784\naction = Action(qq=qq, port=port, host=\"127.0.0.1\")\nuser = 1281727431\nimport base64\nobjective = \"send_image\"\nif objective == 'send_video_ad':\n    link = \"https://b23.tv/DPn1G4p\"\n    title_text = \"\u771f\u00b7\u670b\u514b\uff01\u63ed\u79d8\u300a\u8d5b\u535a\u670b\u514b2077\u300b\u5c4f\u5e55\u4e4b\u5916\u7684\u9b54\u5e7b\u6362\u5f39\u64cd\u4f5c\"\n    content = \"\u89c2\u770b\u89c6\u9891:\\n{}\\n{}\".format(link, title_text)\n    picture_path = \"ad_2_standalone_cover.png\"\n    with open(picture_path, \"rb\") as img_file:\n        b64_string = base64.b64encode(img_file.read())\n    # print(b64_string)\n    result = action.sendFriendPic(user=user, picBase64Buf=b64_string.decode(\"utf-8\"))\n    print(result)\n    action.sendFriendText(user=user, content=content)\n    # send separately.\n    # result = action.sendFriendPic(user=user, picBase64Buf=b64_string.decode('utf-8'),content = content)\nelif objective == 'send_image':\n    # picture_path = \"ad_2.png\""
        },
        {
            "comment": "This code opens a local image file, reads its contents in binary format, encodes the binary data to base64 string representation, and then sends it as a friend picture using the \"sendFriendPic\" function of the \"action\" module.",
            "location": "\"/media/root/Toshiba XG3/works/pyjom_doc/src/tests/bilibili_video_recommendation_server/send_image_botoy.py\":35-42",
            "content": "    # picture_path = \"ebegging_setu_transparent.png\"\n    picture_path = \"image_with_text_8.png\"\n    with open(picture_path, \"rb\") as img_file:\n        b64_string = base64.b64encode(img_file.read())\n    # print(b64_string)\n    result = action.sendFriendPic(\n        user=user, picBase64Buf=b64_string.decode(\"utf-8\")\n    )  # better without content."
        }
    ]
}